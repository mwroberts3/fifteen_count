<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Indigo Loop</title>
    <link rel="stylesheet" href="style/style.css" />
  </head>
  <body style="overflow: hidden">
    <div class="cursor"></div>
    <audio src="bgm/scraps-titlesong.mp3" autoplay loop></audio>
    <div class="title-screen-container">
      <div>
        <div class="title-banner-container">
          <img src="./img/title-screen-logo.png" />
          <div class="title-subtitle">
            <p>a game of quick count, reflex and skill</p>
          </div>
        </div>
        <div class="gamemode-select-container">
          <ul>
            <li>
              <a href="arcade.html" draggable="false">
                <button class="main-btn">Arcade</button>
              </a>
            </li>
            <li>
              <a href="time-attack.html" draggable="false">
                <button class="main-btn">Time Attack</button>
              </a>
            </li>
            <li>
              <div class="pad-1"></div>
            </li>
            <li>
              <!-- <a href="options.html" draggable="false"> -->
              <button class="main-btn light-menu-btn">Settings</button>
              <!-- </a> -->
            </li>
            <li>
              <!-- <a href="highscores.html" draggable="false"> -->
              <a
                href="http://localhost:3000/auth/steam/"
                target="_blank"
                draggable="false"
              >
                <button class="main-btn light-menu-btn" onclick="myFunction()">
                  Highscores
                </button>
              </a>
            </li>
            <li>
              <a href="howtoplay.html" draggable="false">
                <button class="main-btn light-menu-btn">How to Play</button>
              </a>
            </li>
            <li>
              <button class="main-btn light-menu-btn exit-game">Exit</button>
            </li>
          </ul>
        </div>
        <div class="title-screen-footer">
          <p>Indigo Loop v1.0.0 &copy;2021</p>
        </div>
      </div>
    </div>
    <section id="sdg-title-screen">
      <div class="sdg-logo"></div>
    </section>
  </body>
  <script>
    // fade-in
    setTimeout(() => {
      document.querySelector("body").classList.add("fade-in");
    }, 10);

    function myFunction() {
      const steamLoginCheck = setInterval(() => {
        fetch("http://localhost:3000/steam-info")
          .then((res) => console.log(res))
          .then((data) => {
            if (data.name !== "" && data.steamId !== "") {
              console.log(data);
              clearInterval(steamLoginCheck);
            }
          });
      }, 2000);
    }
  </script>
  <script src="scripts/custom-cursor.js"></script>
  <script src="scripts/title-screen.js"></script>
</html>
